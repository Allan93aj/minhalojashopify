{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: calc({{ section.settings.padding_top }}px * 0.75);
    padding-bottom: calc({{ section.settings.padding_bottom }}px * 0.75);
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .banner-{{ section.id }} img {
    display: block;
    width: 100%;
    height: auto;
  }

  @media screen and (min-width: 769px){
    .banner-custom-mobile{
      display: none;
    }
  }

  /* Desktop */
  @media screen and (max-width: 768px) {
    .banner-custom-desk{
      display: none;
    }
  }
{%- endstyle -%}

{%- capture desktop_class -%}banner-{{ section.id }}-desktop{%- endcapture -%}
{%- capture mobile_class -%}banner-{{ section.id }}-mobile{%- endcapture -%}

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="section-{{ section.id }}-padding banner-{{ section.id }}">
    <a href="{{ section.settings.link | default: '#' }}">
      {% comment %} BANNER DESKTOP {% endcomment %}
      <div class="banner-custom-desk"> 
      {%- if section.settings.image_desktop != blank -%}
        {{ section.settings.image_desktop 
          | image_url: width: section.settings.desktop_width, height: section.settings.desktop_height 
          | image_tag: 
            loading: "lazy", 
            alt: section.settings.alt_text, 
            class: desktop_class }}
      {%- endif -%}
      </div>

      {% comment %} BANNER MOBILE {% endcomment %}
      <div class="banner-custom-mobile"> 
      {%- if section.settings.image_mobile != blank -%}
        {{ section.settings.image_mobile 
          | image_url: width: section.settings.mobile_width, height: section.settings.mobile_height 
          | image_tag: 
            loading: "lazy", 
            alt: section.settings.alt_text, 
            class: mobile_class }}
      {%- endif -%}
      </div>
    </a>
  </div>
</div>


{% schema %}
{
  "name": "banner custom",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Imagem Desktop"
    },
    {
      "type": "range",
      "id": "desktop_width",
      "min": 200,
      "max": 2000,
      "step": 20,
      "unit": "px",
      "label": "Largura imagem desktop",
      "default": 1400
    },
    {
      "type": "range",
      "id": "desktop_height",
      "min": 100,
      "max": 1200,
      "step": 20,
      "unit": "px",
      "label": "Altura imagem desktop",
      "default": 500
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Imagem Mobile"
    },
    {
      "type": "range",
      "id": "mobile_width",
      "min": 200,
      "max": 1200,
      "step": 20,
      "unit": "px",
      "label": "Largura imagem mobile",
      "default": 600
    },
    {
      "type": "range",
      "id": "mobile_height",
      "min": 100,
      "max": 1200,
      "step": 20,
      "unit": "px",
      "label": "Altura imagem mobile",
      "default": 400
    },
    {
      "type": "text",
      "id": "alt_text",
      "label": "Texto Alternativo",
      "default": "Banner promocional"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link do Banner"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Esquema de cores",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Espaçamento da seção"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Espaçamento superior",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Espaçamento inferior",
      "default": 52
    }
  ],
  "presets": [
    {
      "name": "Banner Dinâmico 123"
    }
  ]
}
{% endschema %}
